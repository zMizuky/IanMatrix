{#- (optional) alt: string; #}
{% import "macros/link.html" as _link %}

<div class="not-prose flex flex-wrap gap-2">
{% for asset in page.assets -%}
  {%- if asset is matching("[.](jpg|png|webp|avif)$") %}
    {%- set image = resize_image(path=asset, width=240, height=180) %}
    {%- set asset_name = asset | split(pat="/") | slice(start=-1) | join(sep="/") %}
  <a href="{{ _link::rel_shortcode(dest=get_url(path=page.path ~ asset_name)) }}" target="_blank">
    <img class="rounded-lg" src="{{ _link::rel_shortcode(dest=image.url) }}"{%
      if alts[asset_name] is defined %} alt="{{ alts[asset_name] | escape_xml | safe }}"{%
      elif alt is defined %} alt="{{ alt | escape_xml | safe }}"{% endif %} />
  </a>
  {%- endif %}
{%- endfor %}
</div>
